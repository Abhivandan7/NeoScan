<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Speech Test</title>
</head>
<body>

<h2>ðŸŽ™ Speech Recognition Test</h2>
<button id="start">Start</button>
<button id="stop">Stop</button>

<pre id="output"></pre>

<script>
const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  alert("SpeechRecognition NOT supported. Use Chrome.");
}

const recognition = new SpeechRecognition();
recognition.continuous = true;
recognition.interimResults = true;
recognition.lang = "en-US";

const output = document.getElementById("output");

recognition.onresult = (event) => {
  let text = "";
  for (let i = 0; i < event.results.length; i++) {
    text += event.results[i][0].transcript;
  }
  output.textContent = text;
};

recognition.onerror = (e) => {
  console.error("ERROR:", e);
  output.textContent = "Error: " + e.error;
};

document.getElementById("start").onclick = () => recognition.start();
document.getElementById("stop").onclick = () => recognition.stop();
</script>

</body>
</html>
